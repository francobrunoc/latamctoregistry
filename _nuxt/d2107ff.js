(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1084:function(e,t,n){"use strict";n.r(t);var r=n(962).a,o=n(55),c=n(81),f=n.n(c),l=n(899),d=n(731),m=n(240),v=n(900),w=n(720),h=n(1086),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{loading:e.loading}},[n("template",{slot:"progress"},[n("v-progress-linear",{attrs:{color:"secondary",indeterminate:""}})],1),e._v(" "),n("v-card-title",{staticClass:"primary white--text"},[e._v("Internal Documents")]),e._v(" "),n("v-card-text",[n("v-treeview",{staticClass:"mt-4",attrs:{dense:"",items:e.items,"item-key":"record_id","open-on-click":"","item-text":"name"},scopedSlots:e._u([{key:"prepend",fn:function(t){var r=t.item,o=t.open;return["folder"===r.file?n("v-icon",[e._v("\n          "+e._s(o?"mdi-folder-open":"mdi-folder")+"\n        ")]):e._e(),e._v(" "),"txt"===r.file?n("v-icon",[e._v("\n          "+e._s(e.files[r.file])+"\n        ")]):e._e(),e._v(" "),n("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return["download"===r.file?n("v-icon",e._g({attrs:{color:"primary"},on:{click:function(t){return e.downloadDocument(r.id)}}},o),[e._v("\n              "+e._s(e.files[r.file])+"\n            ")]):e._e()]}}],null,!0)},[e._v(" "),n("span",[e._v("Download")])])]}}]),model:{value:e.tree,callback:function(t){e.tree=t},expression:"tree"}})],1)],2)}),[],!1,null,"5a5c108f",null);t.default=component.exports;f()(component,{VCard:l.a,VCardText:d.a,VCardTitle:d.b,VIcon:m.a,VProgressLinear:v.a,VTooltip:w.a,VTreeview:h.a})},732:function(e,t,n){"use strict";(function(e){n(44),n(45),n(9),n(62);var r=n(19),o=n(880),c=n.n(o),f=n(736),l="https://7cb5vfypm9.execute-api.us-west-2.amazonaws.com/dev/",d=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(path){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)("get",path));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(path,data){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f.a)("post",path,data));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(path,n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],o={headers:{Authorization:n}},t.next=4,c.a.get(l.concat(path||""),o).then((function(t){(r=t.data).body&&(r=JSON.parse(e.from(r.body).toString("utf-8")))})).catch((function(e){return console.error(e)}));case 4:return t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),w=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(path,data,t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r={headers:{Authorization:t}},e.next=4,c.a.post(l.concat(path||""),data||"",r).then((function(e){n=e})).catch((function(e){return console.error(e)}));case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();t.a={GET:d,get:v,POST:m,post:w}}).call(this,n(8).Buffer)},736:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(62);var r,o=n(19),c=n(153),f=n(732),l=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t,path,data){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.currentAuthenticatedUser().then((function(u){return r=u.signInUserSession.idToken.jwtToken})).catch((function(e){return console.log(e)}));case 2:if("post"!==t){e.next=6;break}return e.next=5,f.a.post(path,data,r);case 5:return e.abrupt("return",e.sent);case 6:if("get"!==t){e.next=10;break}return e.next=9,f.a.get(path,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},927:function(e,t,n){"use strict";n(62);var r=n(19),o=n(732),c=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(path){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.GET(path));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(path,data){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.POST(path,data));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l={listAcceptedPublications:function(){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c("publications/accepted/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},listInternalDocuments:function(){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c("publications/documents/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},listPublicationProposals:function(){return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c("publications/proposals/list");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},downloadDocument:function(e){return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f("publications/documents/download/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}};t.a=l},962:function(e,t,n){"use strict";(function(e){n(62);var r=n(19),o=n(927);t.a={name:"documents",layout:"private",middleware:"authenticated",data:function(){return{loading:!0,sections:null,files:{html:"mdi-language-html5",js:"mdi-nodejs",json:"mdi-code-json",md:"mdi-language-markdown",pdf:"mdi-file-pdf",png:"mdi-file-image",txt:"mdi-file-document-outline",xls:"mdi-file-excel",download:"mdi-download"},tree:[],items:[]}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.listInternalDocuments();case 2:n=t.sent,n.internalDocuments.forEach((function(t){console.log(t),e.items.push({name:t.draft_title,file:"folder",children:[{name:t.draft_introduction,file:"txt",children:[{name:t.draft_objectives,file:"download",id:t.record_id}]}]})})),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},methods:{downloadDocument:function(t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var c,f,link;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.loading=!0,r.next=3,o.a.downloadDocument(t);case 3:c=r.sent,console.log(c),f=window.URL.createObjectURL(new Blob([e.from(c.data.file.result)],{type:c.data.file.contentType.fileType})),(link=document.createElement("a")).href=f,link.setAttribute("download",c.data.file.contentType.fileName),document.body.appendChild(link),link.click(),n.loading=!1;case 12:case"end":return r.stop()}}),r)})))()}}}}).call(this,n(8).Buffer)}}]);